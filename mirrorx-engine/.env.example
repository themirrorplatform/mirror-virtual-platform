# ════════════════════════════════════════════════════════════════════════════
# THE MIRROR VIRTUAL PLATFORM - MIRRORX ENGINE CONFIGURATION
# ════════════════════════════════════════════════════════════════════════════
# Layer 1: Sovereign Core - Constitutional AI Engine
# This MUST work offline without Layer 3 (Core API)
# ════════════════════════════════════════════════════════════════════════════

# ────────────────────────────────────────────────────────────────────────────
# AI PROVIDER KEYS (at least ONE required)
# ────────────────────────────────────────────────────────────────────────────

# Primary Provider (RECOMMENDED)
# Get from: https://console.anthropic.com/settings/keys
ANTHROPIC_API_KEY=sk-ant-api03-your-key-here

# Fallback Providers (OPTIONAL but recommended for reliability)
# OpenAI: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-proj-your-key-here

# Google Gemini: https://makersuite.google.com/app/apikey
GOOGLE_API_KEY=your-google-api-key-here

# Perplexity: https://www.perplexity.ai/settings/api
PERPLEXITY_API_KEY=pplx-your-key-here

# ────────────────────────────────────────────────────────────────────────────
# EMOTION ANALYSIS (OPTIONAL)
# ────────────────────────────────────────────────────────────────────────────
# Hume AI for emotion detection
# Get from: https://platform.hume.ai/
HUME_API_KEY=your-hume-api-key-here
HUME_SECRET_KEY=your-hume-secret-key-here

# ────────────────────────────────────────────────────────────────────────────
# SUPABASE (OPTIONAL - only for identity sync with Core API)
# ────────────────────────────────────────────────────────────────────────────
# Leave empty to run Layer 1 standalone (constitutional requirement)
# Get from: Supabase Project Settings > API
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_KEY=your-service-role-key-here

# ────────────────────────────────────────────────────────────────────────────
# SERVER CONFIGURATION
# ────────────────────────────────────────────────────────────────────────────
HOST=0.0.0.0
PORT=8100
ENVIRONMENT=development

# CORS Origins (comma-separated)
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8000,http://localhost:8100

# ────────────────────────────────────────────────────────────────────────────
# MIRRORCORE CONFIGURATION (CONSTITUTIONAL ENFORCEMENT)
# ────────────────────────────────────────────────────────────────────────────

# Mode: 'online' or 'offline'
# 'offline' uses local SQLite only, no cloud dependencies
# 'online' can sync with Core API if SUPABASE_URL is set
MIRRORCORE_MODE=online

# Constitutional enforcement (NEVER disable - violates I1-I14)
ENABLE_CONSTITUTIONAL_CHECKS=true

# Constitutional strictness: 'lenient', 'moderate', 'strict'
# 'strict' is recommended (blocks on any violation)
CONSTITUTIONAL_STRICTNESS=strict

# Max directive threshold (I1: Non-Prescription)
# Default 15% - do not increase without governance vote
MAX_DIRECTIVE_RATIO=0.15

# ────────────────────────────────────────────────────────────────────────────
# CONDUCTOR SETTINGS (Multi-AI Orchestration)
# ────────────────────────────────────────────────────────────────────────────

# Enable conductor (8-step reflection pipeline)
USE_CONDUCTOR=true

# Provider preferences (comma-separated, in order)
CONDUCTOR_PRIMARY_PROVIDER=anthropic
CONDUCTOR_FALLBACK_PROVIDERS=openai,google

# Conductor timeout (seconds)
CONDUCTOR_TIMEOUT=30

# ────────────────────────────────────────────────────────────────────────────
# RATE LIMITING
# ────────────────────────────────────────────────────────────────────────────
RATE_LIMIT_PER_MINUTE=10
RATE_LIMIT_PER_HOUR=100

# ────────────────────────────────────────────────────────────────────────────
# LOGGING
# ────────────────────────────────────────────────────────────────────────────
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR
LOG_FORMAT=json  # json or text

# ────────────────────────────────────────────────────────────────────────────
# EVOLUTION ENGINE (Layer 2 - Future)
# ────────────────────────────────────────────────────────────────────────────
# Enable local evolution tracking
ENABLE_EVOLUTION_ENGINE=false

# Enable commons sync (requires governance approval)
ENABLE_COMMONS_SYNC=false

# ────────────────────────────────────────────────────────────────────────────
# CRYPTOGRAPHIC VERIFICATION (Future)
# ────────────────────────────────────────────────────────────────────────────
# Genesis hash for constitutional verification
GENESIS_HASH=97aa1848fe4b7b8b13cd30cb2e9f72c1c7c05c56bbd1d478685fef3c0cbe4075

# Enable signature verification
ENABLE_SIGNATURE_VERIFICATION=false

# ────────────────────────────────────────────────────────────────────────────
# TESTING & DEVELOPMENT
# ────────────────────────────────────────────────────────────────────────────
# Enable mock mode (no real AI calls, uses hardcoded responses)
MOCK_AI_PROVIDERS=false

# Enable debug endpoints
ENABLE_DEBUG_ENDPOINTS=true
